{
  "hash": "11b02b431b50795bb633fe2f04454001",
  "result": {
    "markdown": "---\ntitle: \"Difference-in-Differences\"\n---\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-1_c984fd9e1fd82a102de94ab32fca43ba'}\n\n```{.r .cell-code}\n#1\ndata <- readRDS(\"C:/Users/Anjali/Downloads/Causal_Data_Science_Data (1)/Causal_Data_Science_Data/hospdd.rds\")\n# Load necessary libraries\nlibrary(dplyr)\n\n# Assuming 'data' is your data frame\n# Filter the data for all hospitals before and after treatment\nall_before <- data %>% filter(month == \"Before\") \nall_after <- data %>% filter(month == \"After\")\n\n# Filter the data for treated hospitals before and after treatment\ntreated_before <- all_before %>% filter(procedure == 1) \ntreated_after <- all_after %>% filter(procedure == 1)\n\n# Filter the data for control hospitals before and after treatment\ncontrol_before <- all_before %>% filter(procedure == 0) \ncontrol_after <- all_after %>% filter(procedure == 0)\n\n# Print the results\n# Compute the mean satisfaction for each group and time period\nmean_satisfaction_treated_before <- mean(treated_before$satis, na.rm = TRUE)\nmean_satisfaction_treated_after <- mean(treated_after$satis, na.rm = TRUE)\n\nmean_satisfaction_control_before <- mean(control_before$satis, na.rm = TRUE)\nmean_satisfaction_control_after <- mean(control_after$satis, na.rm = TRUE)\n\n# Print the results\ncat(\"Mean satisfaction for treated hospitals before treatment:\", mean_satisfaction_treated_before, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean satisfaction for treated hospitals before treatment: NaN\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean satisfaction for treated hospitals after treatment:\", mean_satisfaction_treated_after, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean satisfaction for treated hospitals after treatment: NaN\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean satisfaction for control hospitals before treatment:\", mean_satisfaction_control_before, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean satisfaction for control hospitals before treatment: NaN\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean satisfaction for control hospitals after treatment:\", mean_satisfaction_control_after, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean satisfaction for control hospitals after treatment: NaN\n```\n:::\n:::\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-2_bd9b9914ccfd78f75c08adb0cd53bcc0'}\n\n```{.r .cell-code}\n#2\n#Option 1: Month + Hospital\nmodel1 <- lm(satis ~ procedure + month + hospital, data = data)\nsummary(model1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satis ~ procedure + month + hospital, data = data)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -3.3126 -0.6548 -0.0933  0.5555  5.3347 \n#> \n#> Coefficients:\n#>              Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)  3.538024   0.031365 112.801  < 2e-16 ***\n#> procedure    0.886120   0.039143  22.638  < 2e-16 ***\n#> month       -0.004965   0.006392  -0.777 0.437378    \n#> hospital    -0.003731   0.001043  -3.576 0.000351 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 0.9836 on 7364 degrees of freedom\n#> Multiple R-squared:  0.1325,\tAdjusted R-squared:  0.1321 \n#> F-statistic: 374.8 on 3 and 7364 DF,  p-value: < 2.2e-16\n```\n:::\n\n```{.r .cell-code}\n# Option 2: as.factor(Month) + as.factor(Hospital)\nmodel2 <- lm(satis ~ procedure + as.factor(month) + as.factor(hospital), data = data)\nsummary(model2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satis ~ procedure + as.factor(month) + as.factor(hospital), \n#>     data = data)\n#> \n#> Residuals:\n#>     Min      1Q  Median      3Q     Max \n#> -3.1880 -0.4644  0.0067  0.4539  4.2921 \n#> \n#> Coefficients:\n#>                         Estimate Std. Error t value Pr(>|t|)    \n#> (Intercept)            3.1716566  0.0562207  56.414  < 2e-16 ***\n#> procedure              0.8479879  0.0342191  24.781  < 2e-16 ***\n#> as.factor(month)2     -0.0096077  0.0292119  -0.329 0.742244    \n#> as.factor(month)3      0.0219686  0.0292119   0.752 0.452050    \n#> as.factor(month)4     -0.0032839  0.0324936  -0.101 0.919504    \n#> as.factor(month)5     -0.0094027  0.0324936  -0.289 0.772305    \n#> as.factor(month)6     -0.0038375  0.0324936  -0.118 0.905990    \n#> as.factor(month)7     -0.0111941  0.0324936  -0.345 0.730478    \n#> as.factor(hospital)2   0.4085664  0.0772418   5.289 1.26e-07 ***\n#> as.factor(hospital)3   0.5336248  0.0793384   6.726 1.88e-11 ***\n#> as.factor(hospital)4   0.2275102  0.0739411   3.077 0.002099 ** \n#> as.factor(hospital)5  -0.1453529  0.0739411  -1.966 0.049360 *  \n#> as.factor(hospital)6   0.4478634  0.0739411   6.057 1.46e-09 ***\n#> as.factor(hospital)7   1.4044164  0.0714559  19.654  < 2e-16 ***\n#> as.factor(hospital)8   0.0718758  0.0763186   0.942 0.346333    \n#> as.factor(hospital)9  -1.5185150  0.0782447 -19.407  < 2e-16 ***\n#> as.factor(hospital)10  1.6828446  0.0772418  21.787  < 2e-16 ***\n#> as.factor(hospital)11  0.2209653  0.0763186   2.895 0.003799 ** \n#> as.factor(hospital)12 -0.0953034  0.0782447  -1.218 0.223256    \n#> as.factor(hospital)13  0.4955931  0.0754658   6.567 5.48e-11 ***\n#> as.factor(hospital)14  0.2330426  0.0793384   2.937 0.003321 ** \n#> as.factor(hospital)15 -0.1444935  0.0793384  -1.821 0.068613 .  \n#> as.factor(hospital)16  1.4142680  0.0772418  18.310  < 2e-16 ***\n#> as.factor(hospital)17  0.4235429  0.0805362   5.259 1.49e-07 ***\n#> as.factor(hospital)18  0.1532761  0.0938164   1.634 0.102346    \n#> as.factor(hospital)19 -0.7453017  0.0811623  -9.183  < 2e-16 ***\n#> as.factor(hospital)20  0.0473874  0.0791140   0.599 0.549207    \n#> as.factor(hospital)21  1.1943370  0.0836232  14.282  < 2e-16 ***\n#> as.factor(hospital)22  0.7993153  0.0823336   9.708  < 2e-16 ***\n#> as.factor(hospital)23  0.7017202  0.0811623   8.646  < 2e-16 ***\n#> as.factor(hospital)24 -0.3081260  0.0866402  -3.556 0.000378 ***\n#> as.factor(hospital)25  0.6464736  0.0927258   6.972 3.40e-12 ***\n#> as.factor(hospital)26  0.2142471  0.0791140   2.708 0.006783 ** \n#> as.factor(hospital)27 -0.3986544  0.0766106  -5.204 2.01e-07 ***\n#> as.factor(hospital)28  0.7119953  0.0836232   8.514  < 2e-16 ***\n#> as.factor(hospital)29  0.2485512  0.0800935   3.103 0.001921 ** \n#> as.factor(hospital)30 -0.1679220  0.0953638  -1.761 0.078304 .  \n#> as.factor(hospital)31  0.5120848  0.0791140   6.473 1.02e-10 ***\n#> as.factor(hospital)32 -0.3233456  0.0800935  -4.037 5.47e-05 ***\n#> as.factor(hospital)33 -0.4539752  0.0791140  -5.738 9.95e-09 ***\n#> as.factor(hospital)34 -0.0004123  0.0746054  -0.006 0.995590    \n#> as.factor(hospital)35  0.3541110  0.0766106   4.622 3.86e-06 ***\n#> as.factor(hospital)36  2.1381425  0.0773811  27.631  < 2e-16 ***\n#> as.factor(hospital)37  0.1404036  0.0927258   1.514 0.130023    \n#> as.factor(hospital)38 -0.0868060  0.0782129  -1.110 0.267093    \n#> as.factor(hospital)39 -0.0234969  0.0823336  -0.285 0.775356    \n#> as.factor(hospital)40  1.1215331  0.0782129  14.339  < 2e-16 ***\n#> as.factor(hospital)41 -0.1497346  0.0766106  -1.954 0.050681 .  \n#> as.factor(hospital)42  0.8811369  0.0850508  10.360  < 2e-16 ***\n#> as.factor(hospital)43 -0.7724325  0.0811623  -9.517  < 2e-16 ***\n#> as.factor(hospital)44  0.0344120  0.0904337   0.381 0.703569    \n#> as.factor(hospital)45 -0.2137495  0.0766106  -2.790 0.005283 ** \n#> as.factor(hospital)46  0.0784915  0.0823336   0.953 0.340452    \n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> Residual standard error: 0.7238 on 7315 degrees of freedom\n#> Multiple R-squared:  0.5333,\tAdjusted R-squared:  0.5299 \n#> F-statistic: 160.7 on 52 and 7315 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\nIn the analysis,considered two different specifications for the regression model, each incorporating group and time fixed effects. The first specification (Model 1) used numeric representations for months and hospitals (month + hospital), treating them as continuous variables. The second specification (Model 2) utilized categorical representations for months and hospitals (as.factor(month) + as.factor(hospital)), allowing for separate intercepts for each month and hospital category.<br>\n**Comparison:**<br>\nModel 2 has a higher R-squared value, suggesting that it explains a larger proportion of the variance in satisfaction compared to Model 1.<br>\nModel 2 includes fixed effects for individual months and hospitals, providing more detailed insights into the impact of each specific month and hospital on satisfaction\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}